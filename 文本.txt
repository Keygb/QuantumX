// Quantumult X script-response-body å»å¹¿å‘Šè„šæœ¬
// âœ… è‡ªåŠ¨ç”Ÿæˆï¼Œé€‚é… yximgs.com å’Œ i4.cn å¹¿å‘Šæ¥å£
// ä½¿ç”¨ rewrite_local é…åˆæ‰§è¡Œ

const url = $request.url;
let isAd = false;

// åŒ¹é…å¤´åƒå¹¿å‘Šå›¾ç‰‡
if (/^http:\/\/p\d\.a\.yximgs\.com\/uhead\/.*_s\.jpg$/.test(url)) {
  isAd = true;
}

// åŒ¹é…å¿«æ‰‹å¹¿å‘Šè§†é¢‘æµ
if (/^http:\/\/tx-origin\.pull\.yximgs\.com\/gifshow\/.*\.flv/.test(url)) {
  isAd = true;
}

// åŒ¹é…çˆ±æ€åŠ©æ‰‹å¹¿å‘Šæ‰“ç‚¹ä¸ŠæŠ¥æ¥å£
if (/^https:\/\/list-app-m\.i4\.cn\/adclickcb\.xhtml$/.test(url)) {
  isAd = true;
}

if (isAd) {
  console.log("ğŸš« æ‹¦æˆªå¹¿å‘Šèµ„æºï¼š" + url);
  $done({ status: 200, body: "" });
} else {
  $done({});
}